<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Event Alerts - Wordle</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: url('https://media.discordapp.net/attachments/1015724913165865110/1384683534236516443/banner_bees.png?ex=68535288&is=68520108&hm=12c0f609d99e27b857a71122703e327823b5c24f025a44af537951368937c4c6&=&format=webp&quality=lossless&width=800&height=240') no-repeat center center fixed;
      background-size: cover;
    }

    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.65);
      z-index: -1;
    }

    .tile {
      transition: all 0.3s ease;
    }

    .tile.revealed {
      animation: flip 0.6s forwards;
    }

    @keyframes flip {
      0% { transform: rotateX(0); }
      50% {
        transform: rotateX(90deg);
        background-color: #1f2937;
        color: white;
      }
      100% { transform: rotateX(0); }
    }
  </style>
</head>
<body class="text-white font-sans relative min-h-screen flex flex-col">
  <div class="overlay"></div>

  <main class="flex-grow flex flex-col items-center justify-center text-center px-6 pt-24 max-w-3xl mx-auto">
    <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight drop-shadow-md select-none mb-6">Event Alerts Wordle</h1>
    <p class="text-gray-300 mb-6">Guess the 5-letter word! New word every refresh.</p>

    <div id="wordle-game" class="space-y-2 mb-8"></div>

    <div id="keyboard" class="grid gap-2 text-black font-bold select-none">
      <div class="flex justify-center gap-1">
        "QWERTYUIOP".split("").forEach(letter => {
          document.write(`<button class="key bg-gray-200 hover:bg-gray-300 px-2 py-2 rounded w-10" data-key="${letter}">${letter}</button>`);
        });
      </div>
      <div class="flex justify-center gap-1">
        "ASDFGHJKL".split("").forEach(letter => {
          document.write(`<button class="key bg-gray-200 hover:bg-gray-300 px-2 py-2 rounded w-10" data-key="${letter}">${letter}</button>`);
        });
      </div>
      <div class="flex justify-center gap-1">
        document.write(`<button class="key bg-yellow-400 px-2 py-2 rounded w-14" data-key="ENTER">Enter</button>`);
        "ZXCVBNM".split("").forEach(letter => {
          document.write(`<button class="key bg-gray-200 hover:bg-gray-300 px-2 py-2 rounded w-10" data-key="${letter}">${letter}</button>`);
        });
        document.write(`<button class="key bg-red-400 px-2 py-2 rounded w-14" data-key="BACKSPACE">Del</button>`);
      </div>
    </div>
  </main>

  <footer class="text-center text-gray-400 py-6 bg-black bg-opacity-90 mt-auto">
    <p class="select-none">&copy; 2025 Event Alerts. All rights reserved.</p>
    <div class="mt-2 space-x-4">
      <a href="privacy.html" class="underline hover:text-white select-none">Privacy Policy</a>
      <a href="terms.html" class="underline hover:text-white select-none">Terms of Service</a>
    </div>
  </footer>

  <script>
    // Encode the word list so it's not visible in plain text
    const encoded = "YXBwbGUsZXZlbnQsbW9kZW0sc2tlcHAsdXRpbHMsYWxlcnQsdHJhY2ssZmlnaHQsZ2FtZXMscGFydHk=";
    const WORDS = atob(encoded).split(",");
    const targetWord = WORDS[Math.floor(Math.random() * WORDS.length)].toUpperCase();
    const MAX_GUESSES = 6;

    let currentGuess = "";
    let currentRow = 0;

    const game = document.getElementById("wordle-game");

    for (let r = 0; r < MAX_GUESSES; r++) {
      const row = document.createElement("div");
      row.className = "flex justify-center gap-2";
      for (let c = 0; c < 5; c++) {
        const tile = document.createElement("div");
        tile.className = "tile w-14 h-14 border-2 border-gray-600 text-2xl flex items-center justify-center uppercase font-bold bg-gray-800 text-white";
        row.appendChild(tile);
      }
      game.appendChild(row);
    }

    function updateRow() {
      const row = game.children[currentRow];
      for (let i = 0; i < 5; i++) {
        const cell = row.children[i];
        cell.textContent = currentGuess[i] || "";
        cell.classList.remove("revealed");
        cell.style.backgroundColor = "#1f2937";
        cell.style.borderColor = "#4b5563";
      }
    }

    function revealGuess() {
      const row = game.children[currentRow];
      const guess = currentGuess;
      const used = targetWord.split("");

      for (let i = 0; i < 5; i++) {
        const cell = row.children[i];
        const letter = guess[i];

        setTimeout(() => {
          cell.classList.add("revealed");

          if (letter === targetWord[i]) {
            cell.style.backgroundColor = "#16a34a";
            cell.style.borderColor = "#16a34a";
          } else if (used.includes(letter)) {
            cell.style.backgroundColor = "#eab308";
            cell.style.borderColor = "#eab308";
            used[used.indexOf(letter)] = null;
          } else {
            cell.style.backgroundColor = "#374151";
            cell.style.borderColor = "#374151";
          }
        }, i * 300);
      }

      if (guess === targetWord) {
        setTimeout(() => alert("You got it!"), 1600);
        disableInput();
      } else {
        currentRow++;
        currentGuess = "";
        if (currentRow >= MAX_GUESSES) {
          setTimeout(() => alert(`Out of guesses! The word was ${targetWord}`), 1600);
          disableInput();
        }
      }
    }

    function handleInput(key) {
      if (currentRow >= MAX_GUESSES) return;

      if (key === "BACKSPACE") {
        currentGuess = currentGuess.slice(0, -1);
        updateRow();
      } else if (/^[A-Z]$/.test(key) && currentGuess.length < 5) {
        currentGuess += key;
        updateRow();
      } else if (key === "ENTER" && currentGuess.length === 5) {
        revealGuess();
      }
    }

    function disableInput() {
      document.removeEventListener("keydown", keyListener);
      document.querySelectorAll(".key").forEach(k => k.disabled = true);
    }

    function keyListener(e) {
      handleInput(e.key.toUpperCase());
    }

    document.addEventListener("keydown", keyListener);

    // Keyboard button clicks
    document.querySelectorAll(".key").forEach(button => {
      button.addEventListener("click", () => {
        const key = button.getAttribute("data-key");
        handleInput(key);
      });
    });
  </script>
</body>
</html>
