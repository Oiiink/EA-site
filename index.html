<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Simple Farming Simulator</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #8bc34a;
    margin: 0;
    padding: 20px;
    user-select: none;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1 {
    color: #3e621f;
  }
  #gold {
    font-size: 20px;
    margin-bottom: 15px;
    color: #2e4a11;
  }
  #inventory {
    margin-bottom: 20px;
    color: #2e4a11;
  }
  #inventory button {
    padding: 8px 12px;
    margin: 0 8px;
    background: #558b2f;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: background 0.3s;
  }
  #inventory button:disabled {
    background: #9ccc65;
    cursor: default;
  }
  #farmGrid {
    display: grid;
    grid-template-columns: repeat(5, 80px);
    grid-template-rows: repeat(3, 80px);
    gap: 12px;
  }
  .plot {
    width: 80px;
    height: 80px;
    background: #6d4c41;
    border-radius: 10px;
    box-shadow: inset 0 0 5px #3e2723;
    position: relative;
    cursor: pointer;
  }
  .plot.planted {
    background: #3e7d16;
  }
  .progressBar {
    position: absolute;
    bottom: 6px;
    left: 6px;
    right: 6px;
    height: 12px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 6px;
    overflow: hidden;
  }
  .progressFill {
    height: 100%;
    background: #fbc02d;
    width: 0%;
    border-radius: 6px;
    transition: width 0.2s linear;
  }
  .crop {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 24px;
    pointer-events: none;
  }
</style>
</head>
<body>

<h1>Simple Farming Simulator</h1>
<div id="gold">Gold: 20</div>
<div id="inventory">
  Seeds: <span id="seedCount">5</span>
  <button id="buySeedBtn">Buy Seed (5 Gold)</button>
</div>
<div id="farmGrid"></div>

<script>
(() => {
  const ROWS = 3;
  const COLS = 5;

  let gold = 20;
  let seeds = 5;

  const goldEl = document.getElementById('gold');
  const seedCountEl = document.getElementById('seedCount');
  const buySeedBtn = document.getElementById('buySeedBtn');
  const farmGrid = document.getElementById('farmGrid');

  // Each plot state: {planted: bool, growth: 0-100, intervalId: int|null}
  const plots = [];

  function updateGold() {
    goldEl.textContent = `Gold: ${gold}`;
  }
  function updateSeeds() {
    seedCountEl.textContent = seeds;
    buySeedBtn.disabled = gold < 5;
  }

  // Create farm grid UI
  function createFarmGrid() {
    farmGrid.innerHTML = '';
    for(let i=0; i<ROWS*COLS; i++) {
      const plot = document.createElement('div');
      plot.classList.add('plot');
      plot.dataset.index = i;
      farmGrid.appendChild(plot);

      plots[i] = {planted:false, growth:0, intervalId:null, element: plot};
      
      plot.addEventListener('click', () => {
        const state = plots[i];
        if (!state.planted) {
          if (seeds > 0) {
            plantSeed(i);
          } else {
            alert('No seeds left! Buy some seeds.');
          }
        } else if (state.growth >= 100) {
          harvestCrop(i);
        } else {
          alert('Crop is still growing.');
        }
      });
    }
  }

  // Plant seed on plot
  function plantSeed(index) {
    if (plots[index].planted) return;
    plots[index].planted = true;
    plots[index].growth = 0;
    seeds--;
    updateSeeds();

    const plot = plots[index].element;
    plot.classList.add('planted');

    // Add crop icon
    const crop = document.createElement('div');
    crop.className = 'crop';
    crop.textContent = 'ðŸŒ±';
    plot.appendChild(crop);

    // Add progress bar
    const progressBar = document.createElement('div');
    progressBar.className = 'progressBar';
    const progressFill = document.createElement('div');
    progressFill.className = 'progressFill';
    progressBar.appendChild(progressFill);
    plot.appendChild(progressBar);

    // Grow over time
    plots[index].intervalId = setInterval(() => {
      if (plots[index].growth >= 100) {
        clearInterval(plots[index].intervalId);
        plots[index].intervalId = null;
        crop.textContent = 'ðŸŒ¾';
        progressFill.style.width = '100%';
        return;
      }
      plots[index].growth += 2;
      progressFill.style.width = plots[index].growth + '%';
    }, 300);
  }

  // Harvest crop
  function harvestCrop(index) {
    if (!plots[index].planted || plots[index].growth < 100) return;
    plots[index].planted = false;
    plots[index].growth = 0;

    const plot = plots[index].element;
    plot.classList.remove('planted');
    plot.innerHTML = '';

    gold += 10;
    updateGold();
  }

  buySeedBtn.addEventListener('click', () => {
    if (gold >= 5) {
      gold -= 5;
      seeds++;
      updateGold();
      updateSeeds();
    }
  });

  // Init
  updateGold();
  updateSeeds();
  createFarmGrid();
})();
</script>

</body>
</html>
